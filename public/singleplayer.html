<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VSTetris</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .flash { animation: flash 0.2s; }
        @keyframes flash {
            0% { background-color: white; }
            100% { background-color: inherit; }
        }

        
        #bg-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -2; 
            
            
            background-image: url('https://media1.tenor.com/m/Ul0s5b88xPMAAAAC/sakuma.gif');
            
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* 2. LAYER TWO: THE DARK OVERLAY */
        #bg-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1; /* Puts it in front of the GIF, but behind the game */
            background-color: rgba(0, 0, 0, 0.75); /* Dark tint */
        }
    </style>
</head>
<body class="text-white font-mono min-h-screen flex flex-col items-center justify-center overflow-hidden selection:bg-pink-500">

    <div id="bg-video"></div>
    
    <div id="bg-overlay"></div>

    <div class="flex flex-col md:flex-row gap-8 items-start justify-center relative z-10">
        
        <div class="flex flex-col gap-4 w-full md:w-48 order-2 md:order-1">
            
            <div class="bg-gray-800/80 p-4 rounded-lg border-2 border-gray-700 shadow-lg flex flex-col items-center order-last md:order-first backdrop-blur-sm">
                <h2 class="text-gray-400 text-xs uppercase tracking-widest mb-2">Hold (C)</h2>
                <canvas id="hold" width="120" height="120" class="bg-gray-950 rounded border border-gray-600"></canvas>
            </div>

            <div class="bg-gray-800/80 p-4 rounded-lg border-2 border-gray-700 shadow-lg hidden md:block backdrop-blur-sm">
                <h1 class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-violet-500 mb-2">TETRIS</h1>
                <p class="text-sm text-gray-400">WASD / Arrows to move.</p>
                <p class="text-sm text-gray-400 mt-1">Space to Hard Drop.</p>
            </div>

            <div class="bg-gray-800/80 p-4 rounded-lg border-2 border-gray-700 shadow-lg backdrop-blur-sm">
                <h2 class="text-gray-400 text-xs uppercase tracking-widest mb-1">Score</h2>
                <div id="score" class="text-3xl font-bold text-green-400">0</div>
            </div>

            <div class="bg-gray-800/80 p-4 rounded-lg border-2 border-gray-700 shadow-lg backdrop-blur-sm">
                <h2 class="text-gray-400 text-xs uppercase tracking-widest mb-1">Level</h2>
                <div id="level" class="text-3xl font-bold text-yellow-400">1</div>
            </div>
            
            <button id="start-btn" class="bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3 px-4 rounded shadow-lg transform active:scale-95 transition-all">
                Start Game
            </button>
        </div>

        <div class="relative order-1 md:order-2 border-4 border-gray-700 rounded-lg shadow-2xl bg-gray-950">
            <div id="overlay" class="absolute inset-0 bg-black/80 flex items-center justify-center z-10 hidden">
                <div class="text-center">
                    <h2 id="overlay-title" class="text-5xl font-bold text-white mb-4">GAME OVER</h2>
                    <p class="text-gray-300">Press Start to Reset</p>
                </div>
            </div>
            
            <canvas id="tetris" width="360" height="600" class="block"></canvas>
        </div>

        <div class="hidden md:block w-48 order-3">
            <div class="bg-gray-800/80 p-4 rounded-lg border-2 border-gray-700 shadow-lg flex flex-col items-center backdrop-blur-sm">
                <h2 class="text-gray-400 text-xs uppercase tracking-widest mb-2">Next</h2>
                <canvas id="next" width="120" height="120" class="bg-gray-950 rounded border border-gray-600"></canvas>
            </div>
        </div>

    </div>

    <script src="tetris.js"></script>
</body>
</html>